import { NavLink } from "react-router-dom";
import { handleLogout } from "../auth/logout";
import StorageRoundedIcon from "@mui/icons-material/StorageRounded";
import ReceiptOutlinedIcon from '@mui/icons-material/ReceiptOutlined';

const Sidebar = (): JSX.Element => {
  const user = JSON.parse(sessionStorage.getItem("user") as string);
  const name = user.name.split(" ")[0];
  const isAdmin = user.memberType === "Admin";

  return (
    <aside className="sidebar">
      <div id="greetingContainer" className="user">
        <span> Hi, {name}! </span>
        <img src="../../images/Profile Img.jpg" alt="Profile-pic" />
      </div>
      <nav>
        <ul>
          <li className="menu-item">
            <NavLink
              to="/marketplace"
              className={({ isActive }) => (isActive ? "active" : "")}
            >
              <svg
                width={14}
                height={14}
                viewBox="0 0 14 14"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M13.7375 4.9L12.425 3.15088C12.3738 3.08219 12.313 3.02269 12.25 2.96581V0.875C12.25 0.392 11.858 0 11.375 0H2.625C2.14156 0 1.75 0.392 1.75 0.875V2.96625C1.687 3.02269 1.62619 3.08175 1.575 3.15L0.262938 4.89956C0.0931875 5.12531 0 5.40487 0 5.6875V6.125C0 6.84863 0.588875 7.4375 1.3125 7.4375V13.125C1.3125 13.608 1.7045 14 2.1875 14H11.8125C12.2955 14 12.6875 13.608 12.6875 13.125V7.4375C13.4111 7.4375 14 6.84863 14 6.125V5.6875C14 5.40487 13.9068 5.12531 13.7375 4.9ZM11.375 0.875V2.625H2.625V0.875H11.375ZM4.45944 6.5625H2.62675L4.37675 3.5H5.33444L4.45944 6.5625ZM5.78988 3.5H6.78125V6.5625H4.91488L5.78988 3.5ZM7.21875 3.5H8.21012L9.08512 6.5625H7.21875V3.5ZM8.66469 3.5H9.62237L11.3724 6.5625H9.53969L8.66469 3.5ZM0.875 6.125V5.6875C0.875 5.59256 0.905625 5.50069 0.9625 5.425L2.275 3.675C2.35769 3.56475 2.48719 3.5 2.625 3.5H3.87275L2.12275 6.5625H1.3125C1.071 6.5625 0.875 6.36694 0.875 6.125ZM8.75 13.125H5.46875V8.75H8.75V13.125ZM11.8125 13.125H9.1875V8.75C9.1875 8.50806 8.99106 8.3125 8.75 8.3125H5.46875C5.22725 8.3125 5.03125 8.50806 5.03125 8.75V13.125H2.1875V7.4375H11.8125V13.125ZM13.125 6.125C13.125 6.36694 12.9294 6.5625 12.6875 6.5625H11.8764L10.1264 3.5H11.375C11.5124 3.5 11.6423 3.56475 11.7246 3.675L13.0371 5.425C13.0944 5.50069 13.125 5.59256 13.125 5.6875V6.125Z"
                  fill="#ED1C25"
                />
              </svg>
              <span> Marketplace </span>
            </NavLink>
          </li>
          {isAdmin && (
            <li className="menu-item">
              <NavLink
                to="/inventory"
                className={({ isActive }) => (isActive ? "active" : "")}
              >
                <svg
                  width={11}
                  height={14}
                  viewBox="0 0 11 14"
                  fill="white"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M9.5 14.018H1.625C1.14156 14.018 0.75 13.6273 0.75 13.1448V2.60231C0.75 2.12019 1.14156 1.7295 1.625 1.7295H3.8125V2.63906H2.0625C1.821 2.63906 1.625 2.83419 1.625 3.07569V12.7081C1.625 12.9501 1.821 13.1448 2.0625 13.1448H9.0625C9.30444 13.1448 9.5 12.9501 9.5 12.7081V3.07569C9.5 2.83419 9.30444 2.63906 9.0625 2.63906H7.3125V1.7295H9.5C9.983 1.7295 10.375 2.12063 10.375 2.60231V13.1448C10.375 13.6273 9.983 14.018 9.5 14.018ZM3.8125 5.25838H8.625V5.695H3.8125V5.25838ZM3.8125 6.56825H8.625V7.00488H3.8125V6.56825ZM3.8125 7.87856H8.625V8.31519H3.8125V7.87856ZM3.8125 9.18844H8.625V9.62506H3.8125V9.18844ZM8.625 12.2439H3.8125V11.8082H8.625V12.2439ZM3.8125 10.4983H8.625V10.9349H3.8125V10.4983ZM2.5 5.24963H2.9375V5.68625H2.5V5.24963ZM2.5 6.5595H2.9375V6.99613H2.5V6.5595ZM2.5 7.86894H2.9375V8.30556H2.5V7.86894ZM2.5 9.17881H2.9375V9.61544H2.5V9.17881ZM2.9375 12.2356H2.5V11.799H2.9375V12.2356ZM2.5 10.4891H2.9375V10.9258H2.5V10.4891ZM8.1875 3.10238C8.42944 3.10238 8.625 3.29794 8.625 3.53944C8.625 3.7805 8.625 4.38513 8.625 4.38513H2.5C2.5 4.38513 2.5 3.7805 2.5 3.53944C2.5 3.29794 2.69556 3.10238 2.9375 3.10238H4.25C4.25 3.10238 4.25525 2.48156 4.25525 1.77194C4.25525 1.03519 4.824 0.419189 5.5625 0.419189C6.301 0.419189 6.88944 1.06669 6.88944 1.77631C6.88944 2.54063 6.875 3.10238 6.875 3.10238H8.1875ZM5.5625 1.7295C5.32056 1.7295 5.125 1.92463 5.125 2.16569C5.125 2.40719 5.32056 2.60231 5.5625 2.60231C5.80444 2.60231 6 2.40719 6 2.16569C6 1.92463 5.80444 1.7295 5.5625 1.7295Z"
                    fill="#ED1C25"
                  />
                </svg>
                <span> Inventory </span>
              </NavLink>
            </li>
          )}
          {isAdmin && (
            <li className="menu-item">
              <NavLink
                to="/pending-orders"
                className={({ isActive }) => (isActive ? "active" : "")}
              >
                <svg
                  width={11}
                  height={13}
                  viewBox="0 0 11 13"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M7.92578 7C7.37891 7 6.88672 7.13216 6.44922 7.39648C6.01172 7.66081 5.66081 8.01172 5.39648 8.44922C5.13216 8.88672 5 9.37891 5 9.92578C5 10.4544 5.13216 10.9421 5.39648 11.3887C5.66081 11.8353 6.01172 12.1862 6.44922 12.4414C6.88672 12.6966 7.37891 12.8242 7.92578 12.8242C8.45443 12.8242 8.94206 12.6966 9.38867 12.4414C9.83529 12.1862 10.1862 11.8353 10.4414 11.3887C10.6966 10.9421 10.8242 10.4544 10.8242 9.92578C10.8242 9.37891 10.6966 8.88672 10.4414 8.44922C10.1862 8.01172 9.83529 7.66081 9.38867 7.39648C8.94206 7.13216 8.45443 7 7.92578 7ZM8.88281 11.293L7.625 10.0352V8.17578H8.19922V9.78906L9.29297 10.8828L8.88281 11.293ZM8.5 1.75H6.64062C6.51302 1.40365 6.30339 1.12109 6.01172 0.902344C5.72005 0.683594 5.38281 0.574219 5 0.574219C4.61719 0.574219 4.27995 0.683594 3.98828 0.902344C3.69661 1.12109 3.48698 1.40365 3.35938 1.75H1.5C1.17188 1.75 0.89388 1.86393 0.666016 2.0918C0.438151 2.31966 0.324219 2.59766 0.324219 2.92578V11.6758C0.324219 11.9857 0.438151 12.2546 0.666016 12.4824C0.89388 12.7103 1.17188 12.8242 1.5 12.8242H5.05469C4.70833 12.4961 4.4349 12.1133 4.23437 11.6758H1.5V2.92578H2.67578V4.67578H7.32422V2.92578H8.5V5.87891C8.90104 5.93359 9.29297 6.05208 9.67578 6.23438V2.92578C9.67578 2.59766 9.56185 2.31966 9.33398 2.0918C9.10612 1.86393 8.82812 1.75 8.5 1.75ZM5 2.92578C4.83594 2.92578 4.69922 2.86654 4.58984 2.74805C4.48047 2.62956 4.42578 2.48828 4.42578 2.32422C4.42578 2.17839 4.48047 2.04622 4.58984 1.92773C4.69922 1.80924 4.83594 1.75 5 1.75C5.16406 1.75 5.30078 1.80924 5.41016 1.92773C5.51953 2.04622 5.57422 2.17839 5.57422 2.32422C5.57422 2.48828 5.51953 2.62956 5.41016 2.74805C5.30078 2.86654 5.16406 2.92578 5 2.92578Z"
                    fill="#ED1C25"
                  />
                </svg>
                <span> Pending Orders </span>
              </NavLink>
            </li>
          )}

          <li className="menu-item">
            <NavLink
              to="/my-orders"
              className={({ isActive }) => (isActive ? "active" : "")}
            >
              <svg
                width={12}
                height={14}
                viewBox="0 0 12 14"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M10.0833 2.91671H1.91664L2.79164 1.75004H9.20831L10.0833 2.91671ZM11.7131 3.14537L9.96664 0.816707C9.85231 0.664457 9.67847 0.583957 9.49997 0.583374H2.49997C2.30981 0.583374 2.14064 0.674374 2.03331 0.816707L0.286806 3.14537C0.261723 3.17804 0.239556 3.21362 0.222056 3.25154C0.18414 3.33146 0.166056 3.41662 0.16664 3.50004V11.6667C0.16664 12.1497 0.363223 12.5884 0.67939 12.904C0.995556 13.2195 1.43364 13.4167 1.91664 13.4167H10.0833C10.5663 13.4167 11.005 13.2201 11.3206 12.904C11.6361 12.5878 11.8333 12.1497 11.8333 11.6667V3.50004C11.8333 3.37229 11.7919 3.25387 11.7231 3.15879C11.7207 3.15587 11.719 3.15296 11.7166 3.15004L11.7131 3.14537ZM1.33331 4.08337H10.6666V11.6667C10.6666 11.8277 10.6019 11.973 10.4957 12.0791C10.3896 12.1853 10.2443 12.25 10.0833 12.25H1.91664C1.75564 12.25 1.61039 12.1853 1.50422 12.0791C1.39806 11.973 1.33331 11.8277 1.33331 11.6667V4.08337ZM7.74997 5.83337C7.74997 6.31696 7.55456 6.75329 7.23722 7.07062C6.91989 7.38796 6.48356 7.58337 5.99997 7.58337C5.51639 7.58337 5.08006 7.38796 4.76272 7.07062C4.44539 6.75329 4.24997 6.31696 4.24997 5.83337C4.24997 5.51137 3.98864 5.25004 3.66664 5.25004C3.34464 5.25004 3.08331 5.51137 3.08331 5.83337C3.08331 6.63837 3.41056 7.36871 3.93731 7.89604C4.46406 8.42337 5.19497 8.75004 5.99997 8.75004C6.80497 8.75004 7.53531 8.42279 8.06264 7.89604C8.58997 7.36929 8.91664 6.63837 8.91664 5.83337C8.91664 5.51137 8.65531 5.25004 8.33331 5.25004C8.01131 5.25004 7.74997 5.51137 7.74997 5.83337Z"
                  fill="#ED1C25"
                />
              </svg>
              <span> My Orders </span>
            </NavLink>
          </li>
          {isAdmin && (
          <li className="menu-item">
             <NavLink
              to="/lent-items"
              className={({ isActive }) => (isActive ? "active" : "")}
            >
              <svg   width={12}
                height={14}  focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="StorageRoundedIcon"><path d="M4 20h16c1.1 0 2-.9 2-2s-.9-2-2-2H4c-1.1 0-2 .9-2 2s.9 2 2 2zm0-3h2v2H4v-2zM2 6c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2s-.9-2-2-2H4c-1.1 0-2 .9-2 2zm4 1H4V5h2v2zm-2 7h16c1.1 0 2-.9 2-2s-.9-2-2-2H4c-1.1 0-2 .9-2 2s.9 2 2 2zm0-3h2v2H4v-2z"  fill="#ED1C25"></path></svg>
              <span> Lent Items </span>
            </NavLink>
          </li>
          )}
           
          <li className="menu-item">
            <NavLink
              to="/my-items"
              className={({ isActive }) => (isActive ? "active" : "")}
            >
            <svg width={12}
                height={14} focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ReceiptOutlinedIcon"><path d="M19.5 3.5 18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2v20l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5zM19 19.09H5V4.91h14v14.18zM6 15h12v2H6zm0-4h12v2H6zm0-4h12v2H6z" fill="#ED1C25"></path></svg>
              <span> My Items </span>
            </NavLink>
          </li>
          <li className="menu-item">
            <NavLink
              to="/"
              className={({ isActive }) => (isActive ? "active" : "")}
            >
              <svg
                width={12}
                height={12}
                viewBox="0 0 12 12"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M4.24996 10.6666H1.91663C1.75563 10.6666 1.61038 10.6019 1.50421 10.4957C1.39804 10.3895 1.33329 10.2443 1.33329 10.0833V1.91663C1.33329 1.75563 1.39804 1.61038 1.50421 1.50421C1.61038 1.39804 1.75563 1.33329 1.91663 1.33329H4.24996C4.57196 1.33329 4.83329 1.07196 4.83329 0.749959C4.83329 0.427959 4.57196 0.166626 4.24996 0.166626H1.91663C1.43363 0.166626 0.994959 0.363209 0.679376 0.679376C0.363793 0.995543 0.166626 1.43363 0.166626 1.91663V10.0833C0.166626 10.5663 0.363209 11.005 0.679376 11.3205C0.995543 11.6361 1.43363 11.8333 1.91663 11.8333H4.24996C4.57196 11.8333 4.83329 11.572 4.83329 11.25C4.83329 10.928 4.57196 10.6666 4.24996 10.6666ZM9.84179 5.41663H4.24996C3.92796 5.41663 3.66663 5.67796 3.66663 5.99996C3.66663 6.32196 3.92796 6.58329 4.24996 6.58329H9.84179L7.92088 8.50421C7.69279 8.73229 7.69279 9.10154 7.92088 9.32904C8.14896 9.55654 8.51821 9.55713 8.74571 9.32904L11.6624 6.41238C11.716 6.35871 11.7592 6.29454 11.789 6.22338C11.8765 6.01221 11.8345 5.75963 11.6624 5.58754L8.74571 2.67088C8.51763 2.44279 8.14838 2.44279 7.92088 2.67088C7.69338 2.89896 7.69279 3.26821 7.92088 3.49571L9.84179 5.41663Z"
                  fill="#ED1C25"
                />
              </svg>
              <span onClick={handleLogout}> Logout </span>
            </NavLink>
          </li>
        </ul>
      </nav>
    </aside>
  );
};
export default Sidebar;
